<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!--                                             -->
<!-- Author: ROOT team (rootdev@hpsalo.cern.ch)  -->
<!--                                             -->
<!--   Date: Fri Dec 20 16:02:08 2002            -->
<!--                                             -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>PAFAbsPidInfo - source file</title>
<link rev=made href="mailto:rootdev@root.cern.ch">
<meta name="rating" content="General">
<meta name="objecttype" content="Manual">
<meta name="keywords" content="software development, oo, object oriented, unix, x11, windows, c++, html, rene brun, fons rademakers">
<meta name="description" content="ROOT - An Object Oriented Framework For Large Scale Data Analysis.">
</head>
<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#551a8b" ALINK="#ff0000" TEXT="#000000">
<a name="TopOfPage"></a>
<pre>
<b>//////////////////////////////////////////////////////////////////////////</b>
<b>//                                                                      //</b>
<b>// <a href=".././PAFAbsPidInfo.html">PAFAbsPidInfo</a>							//</b>
<b>//                                                                      //</b>
<b>// Particle identification info class					//</b>
<b>//                                                                      //</b>
<b>// Author: T. Brandt, TUD						//</b>
<b>// Copyright (C) 1999-2001, Ruhr-University Bochum.			//</b>
<b>//                                                                      //</b>
<b>//////////////////////////////////////////////////////////////////////////</b>

#include "PAFSchema/PAFAbsPidInfo.h"


ClassImp(PAFAbsPidInfo)

#include &lt;iostream&gt;
using namespace std;

<a name="PAFAbsPidInfo:PAFAbsPidInfo"> </a>PAFAbsPidInfo::PAFAbsPidInfo()
{
  for (Int_t i=0; i&lt;4; i++) {
   _likelihood[i]=0;
   _significanceLevel[i]=0;
  }
  _status=32768;
  _sign=0;
}


const Float_t*
<a name="PAFAbsPidInfo:GetLikelihood"> </a>PAFAbsPidInfo::GetLikelihood() const
{
  return _likelihood;
}

Float_t
<a name="PAFAbsPidInfo:GetLikelihood"> </a>PAFAbsPidInfo::GetLikelihood(Int_t hypo) const
{
  if ((hypo&gt;=0) &amp;&amp; (hypo&lt;5)) {
    return _likelihood[hypo];
  } else {
    return 0;
  }
}


const Float_t*
<a name="PAFAbsPidInfo:GetSignificance"> </a>PAFAbsPidInfo::GetSignificance() const
{
  return _significanceLevel;
}


Float_t
<a name="PAFAbsPidInfo:GetSignificance"> </a>PAFAbsPidInfo::GetSignificance(Int_t hypo) const
{
  if ((hypo&gt;=0) &amp;&amp; (hypo&lt;5)) {
    return _significanceLevel[hypo];
  } else {
    return 0;
  }
}

Int_t
<a name="PAFAbsPidInfo:GetStatus"> </a>PAFAbsPidInfo::GetStatus(Int_t hypo) const
{
  if ((hypo&gt;=0) &amp;&amp; (hypo&lt;5)) {
    UShort_t m = 7 &lt;&lt; (3*hypo);
    return  (_status &amp; m) &gt;&gt; (3*hypo);
  } else {
    return CONS_noMeasure;
  }
}

Int_t 
<a name="PAFAbsPidInfo:GetSign"> </a>PAFAbsPidInfo::GetSign(Int_t hypo) const
{
  if ((hypo&gt;=0) &amp;&amp; (hypo&lt;5)) {
    UShort_t m = 3 &lt;&lt; (2*hypo);
    return  (_sign &amp; m) &gt;&gt; (2*hypo);
  } else {
    return CONS_unknown;
  }
}


Int_t
<a name="PAFAbsPidInfo:IsValid"> </a>PAFAbsPidInfo::IsValid() const
{
  if ((_status &amp; (UShort_t) 32768) == 0) {
    return -1; 
  } else {
    return 0;
  }
}


void
<a name="PAFAbsPidInfo:SetStats"> </a>PAFAbsPidInfo::SetStats(Int_t hypo, Float_t sl, Float_t lhood, Int_t status, Int_t sign)
{
  if ((hypo&gt;=0) &amp;&amp; (hypo&lt;5)) {
    _status = _status &amp; (UShort_t) 32767; 
    _significanceLevel[hypo] = sl;
    _likelihood[hypo] = lhood;
    _status = _status &amp; ~(7 &lt;&lt; (3*hypo));
    _status = _status | (status &lt;&lt; (3*hypo));

    _sign = _sign &amp; ~(3 &lt;&lt; (2*hypo));
    _sign = _sign | ((sign&amp;3) &lt;&lt; (2*hypo));
  }
}

void 
<a name="PAFAbsPidInfo:Invalidate"> </a>PAFAbsPidInfo::Invalidate()
{
  _status = _status | (UShort_t) 32768;
}

void
<a name="PAFAbsPidInfo:SetNoMeas"> </a>PAFAbsPidInfo::SetNoMeas()
{
  for (Int_t i=0; i&lt;5; i++) {
    SetStats(i,0.0,1.0,CONS_noMeasure,CONS_unknown);
  }
}

void
<a name="PAFAbsPidInfo:PrintOn"> </a>PAFAbsPidInfo::PrintOn(std::ostream&amp; o) const
{
  if (IsValid()) {
    o &lt;&lt; "Status : " &lt;&lt; GetStatus() &lt;&lt; " (valid) " &lt;&lt; endl;
  } else {
    o &lt;&lt; "Status : " &lt;&lt; GetStatus() &lt;&lt; " (*invalid*) " &lt;&lt; endl;
  }
  
  for (Int_t i=0; i&lt;5; i++) {
    o &lt;&lt; "     Hypo  " &lt;&lt; i &lt;&lt; " : ";
    o &lt;&lt; "SL = " &lt;&lt; GetSignificance(i) &lt;&lt; " ; LH = " &lt;&lt; GetLikelihood(i) &lt;&lt; " ; ";
    o &lt;&lt; "Stat = ";
    Int_t k = GetStatus(i);
    if (k==CONS_OK) { o &lt;&lt; "OK"; }
    if (k==CONS_noMeasure) { o &lt;&lt; "noMeasure"; }
    if (k==CONS_unPhysical) { o &lt;&lt; "unPhysical"; }
    if (k==CONS_underFlow) { o &lt;&lt; "underFlow"; }
    o &lt;&lt; " ; Sign = ";
    k = GetSign(i);
    if (k==CONS_left) { o &lt;&lt; "left"; }
    if (k==CONS_right) { o &lt;&lt; "right"; }
    if (k==CONS_unknown) { o &lt;&lt; "unknown"; }
    o &lt;&lt; endl;
  }
}
</pre>

<!--SIGNATURE-->
<br>
<hr>
<center>
<address>
<a href="http://root.cern.ch/root/Welcome.html">ROOT page</a> - <a href="../ClassIndex.html">Class index</a> - <a href="#TopOfPage">Top of the page</a><br>
</address>
</center>
<hr>
<address>
This page has been automatically generated. If you have any comments or suggestions about the page layout send a mail to <a href="mailto:rootdev@root.cern.ch">ROOT support</a>, or contact <a href="mailto:rootdev@root.cern.ch">the developers</a> with any questions or problems regarding ROOT.
</address>
</body>
</html>
