<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!--                                             -->
<!-- Author: ROOT team (rootdev@hpsalo.cern.ch)  -->
<!--                                             -->
<!--   Date: Fri Dec 20 16:02:06 2002            -->
<!--                                             -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>EidInfoR - source file</title>
<link rev=made href="mailto:rootdev@root.cern.ch">
<meta name="rating" content="General">
<meta name="objecttype" content="Manual">
<meta name="keywords" content="software development, oo, object oriented, unix, x11, windows, c++, html, rene brun, fons rademakers">
<meta name="description" content="ROOT - An Object Oriented Framework For Large Scale Data Analysis.">
</head>
<body BGCOLOR="#ffffff" LINK="#0000ff" VLINK="#551a8b" ALINK="#ff0000" TEXT="#000000">
<a name="TopOfPage"></a>
<pre>
<b>//--------------------------------------------------------------------------</b>
<b>// File and Version Information:</b>
<b>// 	$Id: EidInfoR.cxx.html,v 1.1.1.1 2002-12-20 15:05:30 marcel Exp $</b>
<b>//</b>
<b>// Description:</b>
<b>//      Class <a href=".././EidInfoR.html">EidInfoR</a> - The persistent version of the BtaMicroCand class.</b>
<b>//</b>
<b>// Environment:</b>
<b>//	Software developed for the BaBar Detector at the SLAC B-Factory.</b>
<b>//</b>
<b>// Author List:</b>
<b>//	Stefan Kluth           Originator</b>
<b>//</b>
<b>// Copyright Information:</b>
<b>//	Copyright (C) 1999     LBNL</b>
<b>//</b>
<b>//------------------------------------------------------------------------</b>

<b>// This class header:</b>
#include "KangaSchema/EidInfoR.h"

<b>//-----------------------------------------------------------------------</b>
<b>// Local Macros, Typedefs, Structures, Unions and Forward Declarations --</b>
<b>//-----------------------------------------------------------------------</b>
ClassImp(<a href=".././EidInfoR.html">EidInfoR</a>)

#include &lt;iostream&gt;
using namespace std;
<b>//		-----------------------------------------------</b>
<b>// 		-- Static Data &amp; Function Member Definitions --</b>
<b>//		-----------------------------------------------</b>

<b>//		----------------------------------------</b>
<b>// 		-- Public Function Member Definitions --</b>
<b>//		----------------------------------------</b>

<b>//----------------</b>
<b>// Constructors --</b>
<b>//----------------</b>
<a name="EidInfoR:EidInfoR"> </a><a href=".././EidInfoR.html#EidInfoR:EidInfoR">EidInfoR::EidInfoR</a>() : 
  RooEvtObj&lt;AbsEventID&gt;(),
  <a href=".././EidInfoR.html#EidInfoR:_run">_run</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_configKey">_configKey</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_platform">_platform</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_partitionMask">_partitionMask</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_timeStamp_u">_timeStamp_u</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_timeStamp_l">_timeStamp_l</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_bdbTimeGmtSec">_bdbTimeGmtSec</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_bdbTimeGmtNSec">_bdbTimeGmtNSec</a>( 0 ) {}
/*
<a name="EidInfoR:EidInfoR"> </a><a href=".././EidInfoR.html#EidInfoR:EidInfoR">EidInfoR::EidInfoR</a>( const AbsEventID* eventID, RooEvtObjLocReg &amp; reg ) :
  RooEvtObj&lt;AbsEventID&gt;(),
  <a href=".././EidInfoR.html#EidInfoR:_run">_run</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_configKey">_configKey</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_platform">_platform</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_partitionMask">_partitionMask</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_timeStamp_u">_timeStamp_u</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_timeStamp_l">_timeStamp_l</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_bdbTimeGmtSec">_bdbTimeGmtSec</a>( 0 ),
  <a href=".././EidInfoR.html#EidInfoR:_bdbTimeGmtNSec">_bdbTimeGmtNSec</a>( 0 )

{

<b>  // Register this object and its corresponding transient:</b>
<b>  // Doesn't work, AbsEventID is not an AbsEvtObj (don't ask, </b>
<b>  // I don't know why)</b>
<b>  //  registerThis( eventID, reg );</b>

<b>  // Run # and configkey:</b>
  <a href=".././EidInfoR.html#EidInfoR:_run">_run</a>= eventID-&gt;run();
  <a href=".././EidInfoR.html#EidInfoR:_configKey">_configKey</a>= eventID-&gt;configKey();

<b>  // Stuff from EidEventTriplet:</b>
  EidEventTriplet eidEvt= eventID-&gt;eventIdTriplet();
  <a href=".././EidInfoR.html#EidInfoR:_platform">_platform</a>= eidEvt.platform();
  <a href=".././EidInfoR.html#EidInfoR:_partitionMask">_partitionMask</a>= eidEvt.partitionMask();
  odfTime timeStamp= eidEvt.timeStamp();
  <a href=".././EidInfoR.html#EidInfoR:_timeStamp_u">_timeStamp_u</a>= timeStamp.binary().upper;
  <a href=".././EidInfoR.html#EidInfoR:_timeStamp_l">_timeStamp_l</a>= timeStamp.binary().lower;

<b>  // Stuff from EidCondKeyTriplet, also contains platform and </b>
<b>  // partitionMask info, why this duplication? Anyway, just get</b>
<b>  // the BdbTime:</b>
  BdbTime bdbTime= eventID-&gt;condKeyTriplet().key();
  <a href=".././EidInfoR.html#EidInfoR:_bdbTimeGmtSec">_bdbTimeGmtSec</a>= bdbTime.getGmtSec();
  <a href=".././EidInfoR.html#EidInfoR:_bdbTimeGmtNSec">_bdbTimeGmtNSec</a>= bdbTime.getGmtNsec();

}
*/
<b>//--------------</b>
<b>// Destructor --</b>
<b>//--------------</b>
<a name="EidInfoR:~EidInfoR"> </a><a href=".././EidInfoR.html">EidInfoR</a>::~<a href=".././EidInfoR.html">EidInfoR</a>() {}

/*
<b>// Create transient:</b>
AbsEventID* <a href=".././EidInfoR.html#EidInfoR:transient">EidInfoR::transient</a>( RooEvtObjLocReg &amp; reg ) const {

<b>  // Create EidEventTriplet:</b>
  odfTime timeStamp( <a href=".././EidInfoR.html#EidInfoR:_timeStamp_u">_timeStamp_u</a>, <a href=".././EidInfoR.html#EidInfoR:_timeStamp_l">_timeStamp_l</a> );
  EidEventTriplet eidEvt( <a href=".././EidInfoR.html#EidInfoR:_platform">_platform</a>, <a href=".././EidInfoR.html#EidInfoR:_partitionMask">_partitionMask</a>, timeStamp );

<b>  // Create EidCondKeyTriplet:</b>
  BdbTime bdbTime( <a href=".././EidInfoR.html#EidInfoR:_bdbTimeGmtSec">_bdbTimeGmtSec</a>, <a href=".././EidInfoR.html#EidInfoR:_bdbTimeGmtNSec">_bdbTimeGmtNSec</a> );
  EidCondKeyTriplet eidCond( <a href=".././EidInfoR.html#EidInfoR:_platform">_platform</a>, <a href=".././EidInfoR.html#EidInfoR:_partitionMask">_partitionMask</a>, bdbTime );

<b>  // Create transient AbsEventID as EidInfo object:</b>
  AbsEventID* result= new EidInfo( eidEvt, eidCond, <a href=".././EidInfoR.html#EidInfoR:_configKey">_configKey</a>, <a href=".././EidInfoR.html#EidInfoR:_run">_run</a> );

<b>  // Register this object and its corresponding transient:</b>
<b>  // Doesn't work, AbsEventID is not an AbsEvtObj (don't ask, I don't why)</b>
<b>  //  registerThis( result, reg );</b>

<b>  // The End:</b>
  return result;

}

<b>// FillRefs and FillPointers dummies:</b>
<a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href=".././EidInfoR.html#EidInfoR:fillRefs">EidInfoR::fillRefs</a>( const AbsEventID*, const RooEvtObjLocReg &amp; ) {

  return true;

}
<a href="../ListOfTypes.html#Bool_t">Bool_t</a> <a href=".././EidInfoR.html#EidInfoR:fillPointers">EidInfoR::fillPointers</a>( AbsEventID*, const RooEvtObjLocReg &amp; ) const {

  return true;

}
*/
<b>// Print object:</b>
<a name="EidInfoR:PrintOn"> </a><a href="../ListOfTypes.html#void">void</a> <a href=".././EidInfoR.html#EidInfoR:PrintOn">EidInfoR::PrintOn</a>( std::ostream &amp; ost ) const {

  ost &lt;&lt; "<a href=".././EidInfoR.html">EidInfoR</a>: contents: " &lt;&lt; endl;
  ost &lt;&lt; "Run: " &lt;&lt; <a href=".././EidInfoR.html#EidInfoR:_run">_run</a> &lt;&lt; endl;
  ost &lt;&lt; "ConfigKey: " &lt;&lt; <a href=".././EidInfoR.html#EidInfoR:_configKey">_configKey</a> &lt;&lt; endl;
  ost &lt;&lt; "Platform: " &lt;&lt; <a href=".././EidInfoR.html#EidInfoR:_platform">_platform</a> &lt;&lt; endl;
  ost &lt;&lt; "PartitionMask: " &lt;&lt; <a href=".././EidInfoR.html#EidInfoR:_partitionMask">_partitionMask</a> &lt;&lt; endl;
  ost &lt;&lt; "Timestamps (upper,lower): " &lt;&lt; <a href=".././EidInfoR.html#EidInfoR:_timeStamp_u">_timeStamp_u</a> &lt;&lt; " " &lt;&lt; <a href=".././EidInfoR.html#EidInfoR:_timeStamp_l">_timeStamp_l</a> 
      &lt;&lt; endl;
  ost &lt;&lt; "BdbTime (sec, nsec): " &lt;&lt; <a href=".././EidInfoR.html#EidInfoR:_bdbTimeGmtSec">_bdbTimeGmtSec</a> &lt;&lt; " " &lt;&lt; <a href=".././EidInfoR.html#EidInfoR:_bdbTimeGmtNSec">_bdbTimeGmtNSec</a>
      &lt;&lt; endl;

}

</pre>

<!--SIGNATURE-->
<br>
<hr>
<center>
<address>
<a href="http://root.cern.ch/root/Welcome.html">ROOT page</a> - <a href="../ClassIndex.html">Class index</a> - <a href="#TopOfPage">Top of the page</a><br>
</address>
</center>
<hr>
<address>
This page has been automatically generated. If you have any comments or suggestions about the page layout send a mail to <a href="mailto:rootdev@root.cern.ch">ROOT support</a>, or contact <a href="mailto:rootdev@root.cern.ch">the developers</a> with any questions or problems regarding ROOT.
</address>
</body>
</html>
